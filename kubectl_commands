# Get node labels
kubectl get nodes --show-labels

# Check health etcd
kubectl get --raw=/healthz/etcd

# Query API Server
kubectl get --raw=/apis
kubectl get --raw=/logs/kube-apiserver.log

# Get nodes by oldest 
kubectl get nodes --sort-by=".status.conditions[?(@.reason == 'KubeletReady' )].lastTransitionTime"

kubectl  get nodes -o custom-columns=NAME:.metadata.name | grep v1.14 | sort -k4

kubectl taint nodes {} key=value:NoSchedule

kubectl drain {} --ignore-daemonsets --delete-emptydir-data

Checks After Upgrade:

kubectl version --short

kubectl get daemonset kube-proxy --namespace kube-system -o=jsonpath='{$.spec.template.spec.containers[:1].image}'

kubectl get deployment coredns --namespace kube-system -o=jsonpath='{$.spec.template.spec.containers[:1].image}'

kubectl describe daemonset aws-node --namespace kube-system | grep Image | cut -d "/" -f 2

Kubectl get nodes |  sed -n '1!p' | sort -k4

k get ns | sed -n '1!p' | awk '{print $1}'

kube get apiservices.apiregistration.k8s.io

kubectl -n $$$$$ get pdb
kubectl -n $$$$$ delete pdb $deploymentâ€¨kubectl -n $$$$$ delete po  k delete po --selector=name=$deployment
